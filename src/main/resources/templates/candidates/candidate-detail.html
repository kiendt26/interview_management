<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
      th:replace="~{layout/template::areas(~{::title},~{::main},@{/css/candidate2.css},@{/js/candidate.js})}">
<head>
    <meta charset="UTF-8">
    <title>Candidate Detail</title>
    <link rel="stylesheet" href="../../static/css/main.css">
</head>
<body>
<main class="col-12 mt-5">
    <div class="d-flex justify-content-between">
        <h4>Candidate Detail</h4>
        <form  th:if="${candidate.status.name() != 'BANNED'}"
              th:action="@{/candidates/ban/{id}(id=${candidate.candidateId})}"
              method="post"
              onsubmit="return confirm('Are you sure you want to ban this candidate?');">
            <button sec:authorize="hasAnyAuthority('Admin', 'Recruiter', 'Manager')" class="btn btn-danger" type="submit">Ban Candidate</button>
        </form>
    </div>
    <form th:action="@{/candidates/edit/{id}(id=${candidate.candidateId})}" th:object="${candidate}" method="get" style="background: #f1f6fb" class="pt-3 pb-3 row">
        <h4 style="font-size: 18px">I. Personal information</h4>
        <input type="hidden" th:field="*{candidateId}"/>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Full name:</label>
            <label th:text="*{fullname}" style="border: none;width: 65%;margin-left: 29px"></label>
        </div>
        <div class="col-6 ps-3 mt-3">
            <label style="font-weight: bold">Email:</label>
            <label th:text="*{email}" style="border: none;width: 65%;margin-left: 83px"></label>
        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">D.O.B:</label>
            <label th:text="*{dob}" style="border: none;width: 65%;margin-left: 53px"></label>
        </div>

        <div class="col-6 ps-3 mt-3">
            <label style="font-weight: bold">Address:</label>
            <label  th:text="*{address}" style="border: none;width: 65%;margin-left: 83px"></label>
        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Phone Number:</label>
            <label  th:text="*{phone}" style="border: none;width: 65%;margin-left: 7px"></label>
        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Gender:</label>
            <label th:text="*{gender.displayName}" style="border: none;width: 65%;padding: 8px 0px;margin-left: 75px"></label>
        </div>

        <h4 class="mt-5" style="font-size: 18px">II. Professional information</h4>

        <div class="col-6  mt-3 " style="width: 50%">
            <label style="font-weight: bold">Highest level:</label>
            <label  th:text="*{highestLevel.displayName}" style="border: none;width: 65%;padding: 8px 0px;margin-left: 43px"></label>
        </div>

        <div class="col-6 ps-3 mt-3">
            <label style="font-weight: bold">Note:</label>
            <label  th:text="*{note}" style="border: none;width: 65%;margin-left: 90px"></label>
        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Position:</label>
            <label  th:text="*{position.displayName}" style="border: none;width: 65%;padding: 8px 0px;margin-left: 43px"></label>
        </div>

        <div class="col-6 ps-3 mt-3">
            <label style="font-weight: bold">Status:</label>
            <label th:text="*{status.displayName}" style="border: none;width: 65%;padding: 8px 0px;margin-left: 80px"></label>
        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Skills:</label>
            <label th:text="${#strings.listJoin(candidate.skills, ', ')}" class="ms-5 input-left" ></label>

        </div>

        <div class="col-6 mt-3">
            <label style="font-weight: bold">Year of Experience:</label>
            <label  th:text="*{yearOfExp}" style="border: none;width: 65%" class="ms-3"></label>
        </div>

        <div style="margin-top: 150px;margin-bottom: 50px" class="d-flex justify-content-center">
            <a th:href="@{/candidates/edit/{id}(id=${candidate.candidateId})}">
                <button sec:authorize="hasAnyAuthority('Admin', 'Recruiter', 'Manager')" type="button" class="btn ms-5 ps-4 pe-4" style="background: #e1dfdf;font-weight: 600">Edit</button>
            </a>
            <a th:href="@{/candidates/list}">
                <button type="button" class="btn ms-5 ps-4 pe-4" style="background: #e1dfdf;font-weight: 600">Cancel</button>
            </a>
        </div>
    </form>
</main>
</body>
</html>
